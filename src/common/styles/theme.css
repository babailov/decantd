/* GLOBAL VARIABLES */

:root {
  --header-height: 3.5rem;
  --bottom-nav-height: 4rem;
  --side-nav-width: 4.5rem;
  --app-bg:
    radial-gradient(circle at 10% -2%, rgba(244, 230, 191, 0.42), transparent 44%),
    radial-gradient(circle at 84% 0%, rgba(146, 177, 98, 0.24), transparent 36%),
    linear-gradient(180deg, #f6f0e4 0%, #efe5d2 52%, #e8dcc4 100%);
  --story-vignette: inset 0 1px 0 rgba(255, 255, 255, 0.36);
}

/*
*
* TAILWIND THEME OVERRIDES
*
*/

/* COLORS */
@theme {
  --color-wine-dark: #260f12;
  --color-wine-burgundy: #6b2934;
  --color-wine-sienna: #8c3a2f;
  --color-wine-wheat: #e7d2a2;
  --color-wine-goldenrod: #d0a03d;
  --color-wine-gold: #e6b858;
  --color-wine-cream: #f7f0df;
  --color-wine-parchment: #f0e3ca;
  --color-wine-charcoal: #30241f;

  --color-background: #f6f0e4;
  --color-primary: #5f8f3f;
  --color-primary-hover: #4c7a2f;
  --color-accent: #d0a03d;
  --color-accent-hover: #bf8f33;
  --color-surface: rgba(252, 246, 235, 0.88);
  --color-surface-elevated: #fffaf0;
  --color-border: rgba(128, 110, 84, 0.26);
  --color-border-strong: rgba(100, 81, 58, 0.44);

  --color-text-primary: #2a1f16;
  --color-text-secondary: #5b4f42;
  --color-text-muted: #7c6b56;
  --color-text-on-primary: #f9f5ea;
  --color-text-on-accent: #2b2014;

  --color-success: #2d8a4e;
  --color-alert: #c0392b;

  --color-wine-red-fill: rgba(114, 47, 55, 0.3);
  --color-wine-white-fill: rgba(218, 165, 32, 0.3);
  --color-wine-rose-fill: rgba(219, 112, 147, 0.3);
  --color-wine-sparkling-fill: rgba(255, 215, 0, 0.2);
}

/* SPACING/GAPS */
@theme {
  --spacing-2xs: 0.25rem;
  --spacing-xs: 0.5rem;
  --spacing-s: 1rem;
  --spacing-m: 1.25rem;
  --spacing-l: 2rem;
  --spacing-xl: 2.5rem;
}

/* TYPOGRAPHY */
@theme {
  --font-body: var(--font-source-sans);
  --font-display: var(--font-playfair);

  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  --text-body-xl: 1.25rem;
  --text-body-xl--line-height: 1.75rem;
  --text-body-l: 1.125rem;
  --text-body-l--line-height: 1.5rem;
  --text-body-m: 1rem;
  --text-body-m--line-height: 1.5rem;
  --text-body-s: 0.875rem;
  --text-body-s--line-height: 1.25rem;
  --text-body-xs: 0.75rem;
  --text-body-xs--line-height: 1rem;

  --text-heading-xl: 2.5rem;
  --text-heading-xl--line-height: 3rem;
  --text-heading-l: 2rem;
  --text-heading-l--line-height: 2.5rem;
  --text-heading-m: 1.5rem;
  --text-heading-m--line-height: 2rem;
  --text-heading-s: 1.25rem;
  --text-heading-s--line-height: 1.75rem;
  --text-heading-xs: 1.125rem;
  --text-heading-xs--line-height: 1.5rem;
}

/* Z-INDEX */
@theme {
  --z-index-elevated: 1;
  --z-index-header: 50;
  --z-index-drawer-overlay: 51;
  --z-index-drawer: 52;
  --z-index-dialog-overlay: 53;
  --z-index-dialog: 54;
  --z-index-popover: 55;
  --z-index-tooltip: 56;
  --z-index-toast: 57;
  --z-index-bottom-nav: 50;
}

/* ANIMATIONS */
@theme {
  --animate-shimmer: shimmer 3s ease-in-out infinite;
  --animate-fade-in: fade-in 0.3s ease-out;
  --animate-slide-up: slide-up 0.3s ease-out;
}

/* Story themes */
[data-theme='vineyard'] {
  --color-background: #f6f0e4;
  --color-primary: #5f8f3f;
  --color-primary-hover: #4c7a2f;
  --color-accent: #d0a03d;
  --color-accent-hover: #bf8f33;
  --color-surface: rgba(252, 246, 235, 0.9);
  --color-surface-elevated: #fffaf0;
  --color-border: rgba(128, 110, 84, 0.24);
  --color-border-strong: rgba(100, 81, 58, 0.42);
  --color-text-primary: #2a1f16;
  --color-text-secondary: #5b4f42;
  --color-text-muted: #7c6b56;
  --color-text-on-primary: #f9f5ea;
  --color-text-on-accent: #2b2014;
}

[data-theme='cellar'] {
  --color-background: #1b1114;
  --color-primary: #c09a56;
  --color-primary-hover: #d3ad66;
  --color-accent: #8f3546;
  --color-accent-hover: #a84357;
  --color-surface: rgba(44, 22, 27, 0.86);
  --color-surface-elevated: rgba(56, 28, 35, 0.9);
  --color-border: rgba(214, 175, 116, 0.25);
  --color-border-strong: rgba(214, 175, 116, 0.42);
  --color-text-primary: #f7ecdc;
  --color-text-secondary: #d5c0a3;
  --color-text-muted: #ae9072;
  --color-text-on-primary: #2a190f;
  --color-text-on-accent: #f8ece4;
}

@keyframes shimmer {
  0% {
    transform: translateX(-300%);
  }
  50% {
    transform: translateX(600%);
  }
  100% {
    transform: translateX(-300%);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(1rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

body {
  background: var(--app-bg);
  color: var(--color-text-primary);
}

.bg-story-cellar,
.bg-story-vineyard {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  z-index: -1;
}

.bg-story-cellar {
  background:
    radial-gradient(circle at 12% -8%, rgba(160, 59, 78, 0.4), transparent 38%),
    radial-gradient(circle at 88% 0%, rgba(214, 175, 116, 0.24), transparent 36%),
    linear-gradient(145deg, rgba(18, 10, 12, 0.97) 0%, rgba(44, 22, 27, 0.94) 60%, rgba(58, 30, 34, 0.96) 100%);
  box-shadow:
    var(--story-vignette),
    0 24px 48px -28px rgba(14, 6, 9, 0.8);
}

.bg-story-vineyard {
  background:
    radial-gradient(circle at 8% 0%, rgba(245, 219, 145, 0.54), transparent 42%),
    radial-gradient(circle at 90% 4%, rgba(138, 172, 88, 0.34), transparent 38%),
    linear-gradient(160deg, rgba(248, 241, 222, 0.95) 0%, rgba(237, 225, 193, 0.9) 100%);
  box-shadow:
    var(--story-vignette),
    0 20px 44px -30px rgba(90, 70, 44, 0.52);
}

.story-theme {
  position: relative;
  isolation: isolate;
  overflow: hidden;
}
